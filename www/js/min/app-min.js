var app=angular.module("app",["ngRoute","mgcrea.ngStrap","controllers"]);app.config(["$routeProvider","$httpProvider",function(t,e){t.when("/",{controller:"HomeController",templateUrl:"home/home.view.html",controllerAs:"vm"}).when("/login",{controller:"LoginController",templateUrl:"login/login.view.html",controllerAs:"vm"}).when("/dashboard",{controller:"DashboardController",templateUrl:"dashboard/dashboard.view.html",controllerAs:"vm"}).when("/facility/:id",{templateUrl:"facility/facility.view.html",controller:"FacilityController"}).when("/task/:id",{templateUrl:"task/task.view.html",controller:"TaskController"}).when("/logout",{templateUrl:"home/home.view.html",controller:"LogoutController"}).otherwise({templateUrl:"partials/404.html"}),e.interceptors.push("authInterceptor")}]),app.factory("authInterceptor",function(t,e,r){return{request:function(t){return e.sessionStorage.access_token&&(t.headers.Authorization="Bearer "+e.sessionStorage.access_token),t},responseError:function(e){return 401===e.status&&r.path("/login").replace(),t.reject(e)}}}),app.service("rest",function(t,e,r){return{baseUrl:"http://kelle.don/api/web/v1/",path:void 0,models:function(){return t.get(this.baseUrl+this.path+location.search)},model:function(){return null!=r.expand?t.get(this.baseUrl+this.path+"/"+r.id+"?expand="+r.expand):t.get(this.baseUrl+this.path+"/"+r.id)},get:function(){return t.get(this.baseUrl+this.path)},postModel:function(e){return t.post(this.baseUrl+this.path,e)},putModel:function(e){return t.put(this.baseUrl+this.path+"/"+r.id,e)},deleteModel:function(){return t["delete"](this.baseUrl+this.path)}}}),app.directive("login",["$http",function(t){return{transclude:!0,link:function(t,e,r){t.isGuest=void 0==window.sessionStorage._auth},template:'<a href="login" ng-if="isGuest">Login</a>'}}]).filter("checkmark",function(){return function(t){return t?"✓":"✘"}});